# Practice03-Î£20

---

## Questions
|n|Question|Answer|
|-|--------|------|
|1|You have an Azure subscription named Subscription1 that contains the resources shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>In resource group&nbsp;</td> </tr> <tr> <td> <p>8372f433-2dcd-4361-b5ef-</p> <p>5b188fed87d0&nbsp;</p> </td> <td>Subscription ID&nbsp;</td> <td>N/A&nbsp;</td> </tr> <tr> <td>RG1&nbsp;</td> <td>Resource group&nbsp;</td> <td>N/A&nbsp;</td> </tr> <tr> <td>VM1&nbsp;</td> <td>VM&nbsp;</td> <td>RG1&nbsp;</td> </tr> <tr> <td>vnet1&nbsp;</td> <td>vnet&nbsp;</td> <td>RG1&nbsp;</td> </tr> <tr> <td>storage&nbsp;</td> <td>Storage account&nbsp;</td> <td>RG1&nbsp;</td> </tr> <tr> <td>User1&nbsp;</td> <td>User account&nbsp;</td> <td>N/A&nbsp;</td> </tr> </tbody> </table><br/>You create an Azure role by using the following JSON file<br/>`{`<br/>`	"properties" :{`<br/>`			"roleName": "Role1",`<br/>`			"description": "",`<br/>`			"assignableScopes": [`<br/>`					"/subscriptions/8372f433-2dcd-4361-b5ef-5b188fed87d0",`<br/>`					"/subscriptions/8372f433-2dcd-4361-b5ef-5b188fed87d0/resourceGroups/RG1"`<br/>`			],`<br/>`					"permissions": [`<br/>`						{`<br/>`							"actions": [`<br/>`									"Microsoft.Compute/*"`<br/>`							],`<br/>`							"notActions": [],`<br/>`							"dataActions": [],`<br/>`							"notDataActions": []`<br/>`						}`<br/>`					]`<br/>`	}`<br/>`}`<br/><br/>You assign Role1 to User1 for RG1<br/>For each of the following statements, select Yes if the statements is true. Otherwise, select No<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Statements&nbsp;</td> <td>Yes&nbsp;</td> <td>No&nbsp;</td> </tr> <tr> <td>User1 can create a new VM in RG1&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>User1 can modify the properties of storage1</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>User1 can attach the network inteface of VM1 to vnet1&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Yes<br/>Box 2 - No<br/>Box 3 - No<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#compute<br/><br/>However, attaching a network interface to a virtual network is more specific and falls under the networking-related actions.<br/><br/>If we refer to the Azure built-in roles documentation, the specific action required for attaching a network interface to a virtual network is under the "Microsoft.Network/networkInterfaces/join/action" action.<br/>Therefore, based on the provided JSON file, which only grants permissions for "Microsoft.Compute/*," and does not explicitly include networking actions, the correct response is:<br/><br/User1 cannot attach the network interface of VM1 to vnet1.</details>|
|2|You have an AAD tenant named contoso.com that contains a user named User1<br/>You plan to publish several apps in the tenant<br/>You need to ensure that User1 can grant admin consent for the published apss<br/>Which two possible user roles can you assign to User1 to achieve this goal? each correct answer presents a complete solution<br/>Note : Each correct selection is worth one point<br/><br/>a. Security administrator<br/>b. Cloud application administrator<br/>c. Application administrator<br/>d. User administrator<br/>e. Application developer|<details><summary>Answer</summary>b. cloud application administrator<br/>c. application administrator<br/><br/>Granting tenant-wide admin consent requires you to sign in a Global Administrator, an Application Administrator, or a Cloud Application Administrator</details>|
|3|You have an Azure subscription that contains an AAD tenant<br/>When a developer attempts to register an app named App1 in teh tenant, the developer receives the error message shown in the following exhibit<br/><img src="https://i.imgur.com/k6Q7bzE.png"><br/>You need to ensure that the developer can register App1 in the tenant<br/>What should you do for the tenant?<br/><br/>a. Modify the Directory properties<br/>b. Set Enable Security defaults to Yes<br/>c. Configure the Consent & permissions settings for enterprise applications<br/>d. Modify the User settings|<details><summary>Answer</summary>d. Modify the User settings<br/><img src="https://i.imgur.com/3vZ8gpg.png"><br/><br/>Microsoft itself uses the default configuration with users able ro register applictions & consent to applications on their own behalf<br/>ref:<br/>https://learn.microsoft.com/en-us/entra/identity-platform/how-applications-are-added</details>|
|4|You have an Azure subscription that contains an AAD tenant & a user named User1<br/>The App registration settings for the tenant are configured as shown in the following exhibit<br/><img src="https://i.imgur.com/fFNlduR.png"><br/>You plan to deploy an app named App1<br/>You need to ensure that User1 can register App1 in AAD. The solution must use the principe of least privilege<br/>Which role should you assign to User1<br/><br/>a. App Configuration Data Owner for the subscription<br/>b. Managed Application Contributor for the subscription<br/>c. Cloud application administrator in AAD<br/>d. Application developer in AAD|<details><summary>Answer</summary>d. Application developer in AAD<br/><br/>Create application registration when ability is disabled for all users : Application developer</details>|
|5|You have the Azure VMs show in the following table<br/><table> <tbody> <tr> <td>Nsme&nbsp;</td> <td>Location&nbsp;</td> <td>Connected to&nbsp;</td> </tr> <tr> <td>VM1&nbsp;</td> <td>West US 2&nbsp;</td> <td>vnet1/Subnet1&nbsp;</td> </tr> <tr> <td>VM2&nbsp;</td> <td>West US 2&nbsp;</td> <td>vnet1/Subnet1&nbsp;</td> </tr> <tr> <td>VM3&nbsp;</td> <td>West US 2&nbsp;</td> <td>vnet1/Subnet2&nbsp;</td> </tr> <tr> <td>VM4&nbsp;</td> <td>East US&nbsp;</td> <td>vnet2/Subnet3&nbsp;</td> </tr> <tr> <td>VM5&nbsp;</td> <td>West US 2&nbsp;</td> <td>vnet5/Subnet5&nbsp;</td> </tr> </tbody> </table><br/>Each VM has a single network interface<br/You add the network interface of VM1 to an application security group named ASG1<br/>You need to identify the network interfaces of which VMs you can add to ASG1<br/>What should you identify<br/><br/>a. VM2 only<br/>b. VM2 & VM3 only<br/>c. VM2, VM3, VM4, VM5<br/>d. VM2, VM3, & VM5 only|<details><summary>Answer</summary>b. VM2 & VM3 only<br/><br/>It must be VM2 & VM3 as both are in same vnet</details>|
|6|Simulation -<br/>You need to create a new AAD named 1037806.onmicrosoft.com. The new directory must contain a user named user10317806 who is configured to sign in by using Azure MFA|<details><summary>Answer</summary><img src="https://i.imgur.com/AYX69hu.png"><br/><img src="https://i.imgur.com/7YmQI8B.png"><br/><img src="https://i.imgur.com/RXjmQsp.png"><br/>ref:<br/>https://learn.microsoft.com/en-us/power-bi/developer/create-an-azure-active-directory-tenant</details>|
|7|You have an Azure subscription Subscription1 that contains an AAD tenant named contoso.com & a resource group named RG1<br/>You create a custom role named Role for contoso.com<br/>You need to identify where yo ucan use Role1 for permission delegation<br/><br/>What should you identify?<br/><br/>a. contoso.com only<br/>b. contoso.com & RG1 only<br/>c. contoso.com & Subscription1 only<br/>d. contoso.com, RG1, & Subscription1|<details><summary>Answer</summary>a. contoso.com only<br/><br/>Don't confuse Azure AD RBAC with Azure RBAC. They are completely different<br/>You can't use Azure AD RBAC roles in Azure RBAC & vice versa<br/>The quesion clearly says the custom role was created in the tenant (azure AD), therefore this can only be used in the Azure AD, not in the subscription or resource groups (Which are Azure RBAC)</details>|
|8|You have an Azure subscription<b/r.You enable AAD PIM<br/>Your company's security policy for administrator accounts has the following conditions:<br/>- The accounts must use MFA<br/>- The accounts must use 20-character complex passwords<br/>- The passwords must be changed every 180 days<br/>The accounts must be managed by using PIM<br/>You receive multiple alerts about administators who have not changed their password during the last 90 days<br/>You need to minimize the number of generated alerts<br/><br/>Which PIM alerts should you modify?<br/><br/>a. Roles are being assigned outside of PIM<br/>b. Roles don't require MFA for activation<br/>c. Administrators aren't using their privileged roles<br/>d. Potential stale accounts in a privileged role|<details><summary>Answer</summary>d. Potential<br/><br/>By addressing this alert and ensuring that administrators change their passwords within the required timeframe, you will be in compliance with your company's security policy and reduce the number of generated alerts.<br/>ref:<br/>https://docs.microsoft.com/en-us/azure/active-directory/privileged-identity-management/pim-how-to-configure-security-alerts?tabs=new</details>|
|9|Your network contains an on-premises AD domain named adatum.com that syncs to AAD.AAD Connect is installed on a domain member server named Server1<br/>You need to ensure that a domain administrator for the adatum.com domain can modify the synchronization options<br/>The solution must use the principe of least privilege<br/><br/>Which AAD role should you assign to the domain administrator?<br/><br/>a. Security administrator<br/>b. Global administrator<br/>c. User administrator|<details><summary>Answer</summary>b. Global administrator<br/>ref:<br/>https://learn.microsoft.com/en-us/entra/identity/hybrid/connect/reference-connect-accounts-permissions</details>|
|10|You have an Azure subscription that contains the users shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Subscription role&nbsp;</td> <td>AAD user role&nbsp;</td> <td>MFA status&nbsp;</td> </tr> <tr> <td>User1&nbsp;</td> <td>Owner&nbsp;</td> <td>Authentication administrator&nbsp;</td> <td>Enabled&nbsp;</td> </tr> <tr> <td>User2&nbsp;</td> <td>None&nbsp;</td> <td>Global administrator&nbsp;</td> <td>Enforced&nbsp;</td> </tr> <tr> <td>User3&nbsp;</td> <td>None&nbsp;</td> <td>Global administrator&nbsp;</td> <td>Disabled&nbsp;</td> </tr> </tbody> </table><br/>Which users can enable AAD PIM<br/><br/>a. Use2 & User3 only<br/>b. User1 & User2 only<br/>c. User2 only<br/>d. User1 only|<details><summary>Answer</summary>a. User2 & User3 only<br/><br/>When a user who is active in privileged role in AAD organization with a Premium P2 license goes to Roles & administrators in AAD & selects a role (or event just visits PIM):<br/>We automatically enabme PIM for the organization<br/>Their experience is now that they can either assign a "regular" role assignment or an eligible role assignment<br/>ref:<br/>https://learn.microsoft.com/en-us/entra/id-governance/privileged-identity-management/pim-deployment-plan</details>|
|11|You have an Azure subscription<br/>You plan to create a custom role-based control (RBAC) role that will provide permission to read the Azure Storage account<br/><br/>Which property of the RBAC role definition should you configure?<br/><br/>a. NotActions[]<br/>b. DataActions []<br/>c. AssignableScope []<br/>d. Actions[]|<details><summary>Answer</summary>d. Actions []<br/><br/>DataAction[] is used at blob level, Action [] is used at container & storage acc level<br/><br/>eg.:<br/>`{`<br/>`  "Name": "StorageReaderRole",`<br/>`  "IsCustom": true,`<br/>`  "Description": "Custom role for reading Azure Storage accounts",`<br/>`  "Actions": [`<br/>`    "Microsoft.Storage/storageAccounts/read",`<br/>`    "Microsoft.Storage/storageAccounts/listKeys/action",`<br/>`    "Microsoft.Storage/storageAccounts/listAccountSas/action"`<br/>`  ],`<br/>`  "NotActions": [],`<br/>`  "AssignableScopes": ["/subscriptions/{subscription-id}"]`<br/>`}`</details>|
|12|You have an Azure subscription linked to an AAD Premium Plan 1 tenant<br/>You plan to implement AAD Identity Protection<br/>You need to ensure that you can cnfogiure a user risk policy & a sign-in risk policy<br/><br/>What should you do first?<br/><br/>a. Purchase AAD Premium Plan 2 licenses for all users<br/>b. Register all users for Azure MFA<br/>c. Enable security defaults for AAD<br/>d. Upgrade Azure Security Center to the standard tier|<details><summary>Answer</summary>a. Purchase AAD Premium Plan 2 licenses for all users<br/><br/>P2 is needed to enable MFA. So, the A is correct</details>|
|13|You have the hierarchy of Azure resources shown in the following exhibit<br/><img src="https://i.imgur.com/XeGAW6T.png"><br/>RG1, RG2, & RG3 are resource groups<br/>RG2 contains a VM named VM1<br/>You assign role-based access control (RBAC) roles to the users shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Role&nbsp;</td> <td>Added to resource&nbsp;</td> </tr> <tr> <td>User1&nbsp;</td> <td>Contributor&nbsp;</td> <td>Tenant Root Group&nbsp;</td> </tr> <tr> <td>User2&nbsp;</td> <td>VM Contributor&nbsp;</td> <td>Subscription2&nbsp;</td> </tr> <tr> <td>User3&nbsp;</td> <td>VM Administrator Login&nbsp;</td> <td>RG2&nbsp;</td> </tr> </tbody> </table><br/>For each of the following statements, select Yes if the statement is true. Otherwise, select No<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Statements&nbsp;</td> <td>Yes&nbsp;</td> <td>No&nbsp;</td> </tr> <tr> <td>User1 can deploy VMs to RG1&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>User2 can delete VM2&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td> <p>User3 can reset the password of the built-in</p> <p>Administrator account of VM2&nbsp;</p> </td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>1) Yes<br/>ref:<br/>https://learn.microsoft.com/fr-fr/azure/governance/management-groups/overview<br/><br/>2) yes<br/>The role has this rights :<br/>Microsoft.Compute/virtualMachines/*<br/>Perform all virtual machine actions including create, update, delete, start, restart, & power off VMs.Execute predefined scripts on VMs<br/>ref:<br/>https://learn.microsoft.com/fr-fr/azure/role-based-access-control/built-in-roles#virtual-machine-contributor<br/><br/>3) no<br/>VM Administrator Login - > View VMs in the portal & login as admnistrator<br/>ref:<br/>https://learn.microsoft.com/fr-fr/azure/role-based-access-control/built-in-roles</details>|
|14|You place to implement an Azure function named Function1 that will create new storage accounts for containerized application instances<br/>You need to grant Function1 the minimum required privileges to create the storage accounts. The solution must minimize administrative effort<br/><br/>What should you do? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Assign role to :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A group account&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A system-assigned managed identity&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A user account&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A user-assigned managed identity&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>Role assignment to create :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Built-in role assignment&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Classic administrator role assignment&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Custom role-based access control (RBAC) role assignment&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - a system-assigned managed identity<br/>Minimize admin effort - > system assign MI<br/><br/>Box 2 - Custom RBAC role assignment<br/>Minimium required privileges -> custom role. All other role have too much privileges</details>|
|15|You have an Azure Subscription that is linked to an AAD tenant<br/>From the Azure portal, you register an enterprise application<br/><br/>Which additional resource will be created in AAD<br/><br/>a. a service principal<br/>b. an X.509 certificate<br/>c. a managed identity<br/>d. a user account|<details><summary>Answer</summary>a. a service principal<br/>ref:<br/>https://learn.microsoft.com/en-us/entra/identity-platform/how-applications-are-added</details>|
|16|You have an AAD tenant that contains the resources shwon in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> </tr> <tr> <td>User1&nbsp;</td> <td>User</td> </tr> <tr> <td>User2&nbsp;</td> <td>User&nbsp;</td> </tr> <tr> <td>User3&nbsp;</td> <td>User&nbsp;</td> </tr> <tr> <td>Group1&nbsp;</td> <td>Security group&nbsp;</td> </tr> <tr> <td>Group2&nbsp;</td> <td>Security group&nbsp;</td> </tr> <tr> <td>App1&nbsp;</td> <td>Enterprise application&nbsp;</td> </tr> </tbody> </table><br/>User2 is the owner of Group2<br/>The user & group settings for App1 are configured as shown in the following exhibit<br/><img src="https://i.imgur.com/LCSrZKO.png"><br/>You enable self-service application access for App1 as shown in the following exhibit<br/><img src="https://i.imgur.com/zoBzIiE.png"><br/>User3 is configured to approve access to App1<br/>What should you identify? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Group2 owners :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>User2 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>User3 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>User1 &amp; User2 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>User2 &amp; User3 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>User1, User2, &amp; User3&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>App1 users :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Group1 members only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Group2 members only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Group1 &amp; Group2 members only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Group1 &amp; Group2 members &amp; User1 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Group1 &amp; Group2 members, User1 &amp; User3 only&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - User3 only<br/>When you assign a user under Who is allowd to approve access to this application?The owner of group changes to this approver. You even get a warning that Group owner will change<br/><br/>Box 2 - Group1 & group2 members only<br/><br/>e.g. - entreprise app:<br/><img src="https://i.imgur.com/GTKlVWW.png"></details>|
|17|You have an AKS cluster that will connect to an ACR<br/>You need to use the automatically generated service principal for the AKS cluster to authenticate to the ACR<br/>What should you create?<br/><br/>a. a secret in Azure Key Vault<br/>b. a role assignment<br/>c. an AAD user<br/>d. an AAD group|<details><summary>Answer</summary>b. a role assignment<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/aks/kubernetes-service-principal?tabs=azure-cli<br/><br/>You need to assign the necessary role (like AcrPull or AcrImageSigner) to the service principal associated with your AKS cluster. This allows the AKS cluster to pull container images from the specified Azure Container Registry.</details>|
|18|You have an Azure subscription that contains two VMs named VM1 & VM2 that run Windows Server 2019<br/>You are implementing Update Management in Azure Automation<br/>You plan to create a new update deployment named Update1<br/>You need to ensure that Update1 meets the following requirements<br/>- Automatically applies updates to VM1 & VM2<br/>- Automatically adds any new Windows Server 2019 VMs to Update1<br/><br/>What should you include in Update1?<br/><br/>a. a security group that has a Membership type of Assigned<br/>b. a security group that has a Membership type of Dynamic Device<br/>c. a dynamic group query<br/>d. a Kusto query language query|<details><summary>Answer</summary>c. a dynamic group query<br/><br/>Update Management allows you to target a dynamic group of Azure or non-Azure VMs for update deployments. A dynamic group is defined by a query that Azure Automation evaluates at deployment time</details>|
|19|You have the Azure VMs shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>OS&nbsp;</td> <td>State&nbsp;</td> </tr> <tr> <td>VM1&nbsp;</td> <td>Windows Server 2012&nbsp;</td> <td>Running&nbsp;</td> </tr> <tr> <td>VM2&nbsp;</td> <td>Windows Server 2012 R2&nbsp;</td> <td>Running&nbsp;</td> </tr> <tr> <td>VM3&nbsp;</td> <td>Windows Server 2016&nbsp;</td> <td>Stopped&nbsp;</td> </tr> <tr> <td>VM4&nbsp;</td> <td>Ubuntu Server 18.04 LTS&nbsp;</td> <td>Running&nbsp;</td> </tr> </tbody> </table><br/>For which VM can you enable Update Management?<br/><br/>a. VM2 & VM3 only<br/>b. VM2, VM3, & VM4 only<br/>c. VM1, VM2, & VM4 only<br/>d. VM1, VM2, VM3, & VM4<br/>e. VM1, VM2, & VM3 only|<details><summary>Answer</summary>c. VM1, VM2, & VM4<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/automation/update-management/overview<br/><br/>VM off:<br/><img src="https://i.imgur.com/8oSZUr8.png"><br/>VM running:<br/><img src="https://i.imgur.com/dFrt1TF.png"></details>|
|20|You have an Azure Subscription named Sub1<br/>You have an AAD group named Group1 that contains all the members of your IT teams<br/>You need to ensure that the members of Group1 can stop, start, & restart the Azure VMs in Sub1. The solution must use the principe of least privilege<br/><br/>Which three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area & arrange them in the correct order<br/><table> <tbody> <tr> <td>&nbsp;Actions</td> <td>Answer Area&nbsp;</td> </tr> <tr> <td>Create a JSON file</td> <td>&nbsp;</td> </tr> <tr> <td>Run the Update-AzManagementGroup cmdlet&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Create an XML file&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Run the New-AzRoleDefintion cmdlet&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Run the New-AzRoleAssignment cmdlet&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>1. Create a JSON file<br/>2. Run the New-AzRoleDefinition cmdlet<br/>3. Run the New-AzRoleAssignment cmdlet<br/><br/>ref:<br/>https://petri.com/cloud-security-create-custom-rbac-role-microsoft-azure</details>|

---

## Scores
|n|Date|Results|
|-|----|-------|
|1|7jan2024 PM|12/20 = 60%|
