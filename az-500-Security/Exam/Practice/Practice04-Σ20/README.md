# Practice04-Î£20

---

## Questions
|n|Question|Answer|
|-|--------|------|
|1|You have an Azure subscription that contains the following resources<br/>- A vnet named vnet1 that contains two subnets named Subnet1 & Subnet2<br/>- A VM named VM1 that has only a private IP address & connects to Subnet1<br/>You need to ensure that Remote Desktop connetions can be established to VM1 from the internet<br/>Which three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area & arrange then in the correct order<br/><table> <tbody> <tr> <td>Actions&nbsp;</td> <td>Answer Area&nbsp;</td> </tr> <tr> <td>Configure a&nbsp;NSG&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Create a network rule collection&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Create a NAT rule collection&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Create a new subnet&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Deploy Azure Application Gateway&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Deploy Azure Firewall&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>1. Create a new subnet<br/>2. Deploy Azure Firewall<br/>3. Create a NAT rule collection</details>|
|2|You have an Azure subscription that contains a user named User1 & an ACR named ContReg1<br/>You enable content trust for ContReg1<br/>You need to ensure that User1 can create trusted images in ContReg1. The solution must use the principle of least privilege<br/><br/>Which two should you assign to User1?Each correct answer presents part of the solution<br/>Note : Each correct selection is worth one point<br/><br/>a. AcrQuarantineReader<br/>b. Contributor<br/>c. c. AcrPush<br/>d. AcrImageSigner<br/>e. AcrQuarantineWriter|<details><summary>Answer</summary>c. AcrPush<br/>d. AcrImageSigner<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/container-registry/container-registry-content-trust<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/container-registry/container-registry-roles?tabs=azure-cli</details>|
|3|You have an ACR named ContReg1 that contains a container image named image1<br/>You enable content trust for ContReg1<br/>After Content trust is enabled, you push two images to ContReg1 as shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Details&nbsp;</td> </tr> <tr> <td>image2&nbsp;</td> <td>image was pushed with client content trust enabled&nbsp;</td> </tr> <tr> <td>image3&nbsp;</td> <td>image was pushed with client content trust disabled&nbsp;</td> </tr> </tbody> </table><br/>Which images are trusted images?<br/>a. image1 & image2 only<br/>b. image2 only<br/>c image1, image2, & image3|<details><summary>Answer</summary>b. image2 only<br/><br/>ACR implements Docker's content trust model, enabling pushing & pulling of signed images<br/>To push a trusted image tag to your container registry, enable content trust & push the image with docker push<br/>To work with trusted images, both image publishers & consumers need to enable content trust for their Docker clients<br/>As a publisher, you can sign the images you push to a content trust-enabled registry<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/container-registry/container-registry-content-trust</details>|
|4|Simulation -<br/>You need to configure Azure to allow RDP connections from the Internet to a VM named VM1. The solution must minimize the attack surface of VM1<br/>To complete this task, sign in to the Azure portal|<details><summary>Answer</summary>1. Sign in to the Azure portal<br/>2. In VMs, select VM1<br/>3. In settings, select Networking<br/>4. In inbound port rules, check whether the port for RDP is set correctly. The following is an ex.:<br/><br/>Priority : 300<br/>Name : Port_3389<br/>Protocol : TCP<br/>Source : any<br/>Destination : Any<br/>Action : Allow<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/troubleshoot/azure/virtual-machines/troubleshoot-rdp-nsg-problem</details>|
|5|Simulation -<br/>You need to add the network interface of a VM named VM1 to an application security group named ASG1<br/>To complete this task, sign in to the Azure portal|<details><summary>Answer</summary>1. In the Serach resources, services, & docs box at the top of the portal begin typing the name of a VM, VM1 that has anetwork interface taht you want to add to, or remove from, an application seurity group<br/><br/>2. When the name of your VM appreats in the search results, select it<br/><br/>3. Under settings, select Networking. Select configure the appliction security groups, select the application security groups that you want to add the network interface to, or unselect the application security groups that you want to remove the network interface from, & then select save<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-network-interface?tabs=azure-portal</details>|
|6|Simulation -<br/>You need to perform a full malware scan every Sunday at 02:00 on a VM named VM1 by using Microsoft Antimalware for VMs<br/>To complete this task, sign in to the Azure portal|<details><summary>Answer</summary>VM - extension - add:<br/><img src="https://i.imgur.com/ljjydf6.png"><br/>Microsoft antimalware:<br/><img src="https://i.imgur.com/HToziUA.png"><br/>config :<br/><img src="https://i.imgur.com/jTwoen7.png"><br/><br>ref:<br/>https://www.cloudcorner.gr/microsoft/azure/azure-vm-antimalware-extension-management/</details>|
|7|Simulation -<br/>You need to prevent administrative users from accidentally deleting a vnet named vnet1. The administrative users must be allowed to modify the settings of vnet1<br/>To complete this task, sign in to the Azure portal|<details><summary>Answer</summary>lock - type delete - vnet1:<br/><img src="https://i.imgur.com/2rChQIT.png"><br/>test delete resource - error:<br/><img src="https://i.imgur.com/vKX4fRg.png"></details>|
|8|Simulation -<br/>You need to grant the required permissions to a user named User211641655 to manage the virtual networks in the RG1lod11641655 resource group. The solution must use the principle of least privilege<br/>To complete this task, sign in to the Azure portal|<details><summary>Answer</summary>RG - IAM :<br/><img src="https://i.imgur.com/N3S2tky.png"><br/><img src="https://i.imgur.com/csDxDb6.png"><br/><img src="https://i.imgur.com/O1LTn57.png"></details>|
|9|Simulation -<br/>You need to ensure that only devices connected to a 131.107.0.0/16 subnet can access data in the rg1lod10598168 Azure Sotrage account<br/>To complete this task, sing in to the Azure portal|<details><summary>Answer</summary><img src="https://i.imgur.com/CMQBUqi.png"><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/storage/common/storage-network-security?tabs=azure-portal</details>|
|10|You Create resource in an Azure subscription as shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>Region&nbsp;</td> </tr> <tr> <td>RG1&nbsp;</td> <td>Resource group&nbsp;</td> <td>West Europe&nbsp;</td> </tr> <tr> <td>vnet1&nbsp;</td> <td>Azure virtual network&nbsp;</td> <td>West Europe&nbsp;</td> </tr> <tr> <td>Contoso1901&nbsp;</td> <td>Azure Storage account&nbsp;</td> <td>West Europe&nbsp;</td> </tr> </tbody> </table><br/>vnet1 contains two subnets named Subnet1 & Subnet2. Subnet1 has a network ID of 10.0.0.0/24. Subnet2 has a network ID of 10.1.1.0/24<br/>Contoso1901 is confiugred as shown in the exhibit<br/>`(Get-AzStorageAccount -ResourceGroupName RG1 -Name contoso1901).NetworkRuleSet)`<br/><br/>`ByPass : Logging, Metrics`<br/>`DefaultAction : Deny`<br/>`IpRules : [193.77.0.0/16,...]`<br/>`VirtualNetworkRules : [/subscriptions/a90c8c8f-d8bc-4112-abfb-dac4906573dd/resourceGroups/RG1/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/Subnet1,...]`<br/><br/>`(GetAzStorageAccount -ResourceGroupName RG1 -Name contoso1901).NetworkRuleSet.IpRules`<br/><br/>`Action IPAddressOrRange`<br/>`-----  ----------`<br/>`Allow  193.77.0.0/16`<br/><br/>`(Get-AzStorageAccount -ResourceGroupName RG1 contoso1901).NetworkRuleSet.VirtualNetworkRules`<br/><br/>`Action  VirtualNetworkResourceId   State`<br/>`------  -----------`<br/>`Allow  /subscriptions/a90c8c8f-d8bc-4112-abfb-dac4906573dd/resourceGroups/RG1/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/Subnet1      Succeeded`<br/>For each of the following statements, select Yes if the statement is true. Otherwise, select No<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Statements&nbsp;</td> <td>Yes&nbsp;</td> <td>No&nbsp;</td> </tr> <tr> <td> <p>An Azure virtual machine on Subnet1</p> <p>can access data in Contoso1901&nbsp;</p> </td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td> <p>An Azure virtual machine on Subnet2 can</p> <p>access data in Contoso1901&nbsp;</p> </td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td> <p>A computer on the Internet that has an iP</p> <p>address of 193.77.10.2 can access data in Contoso1901&nbsp;</p> </td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - yes<br/>Access from Subnet1 is allowed<br/><br/>Box 2 - no<br/>No access from Subnet2 is allowd<br/><br/>Box 3 - yes<br/>Acces from IP address 193.77.10.2 is allowed</details>|
|11|You have an Azure subscription that contains the virtual machines shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Location&nbsp;</td> <td>Virtual network name&nbsp;</td> </tr> <tr> <td>VM1&nbsp;</td> <td>East US&nbsp;</td> <td>vnet1&nbsp;</td> </tr> <tr> <td>VM2&nbsp;</td> <td>West US&nbsp;</td> <td>vnet2&nbsp;</td> </tr> <tr> <td>VM3&nbsp;</td> <td>East US&nbsp;</td> <td>vnet1&nbsp;</td> </tr> <tr> <td>VM4&nbsp;</td> <td>West US</td> <td>vnet3&nbsp;</td> </tr> </tbody> </table><br/>All the virtual networks are peered<br/>You deploy Azure Bastion to vnet2<br/>Which virtual machines can be protected by the bastion host?<br/><br/>a. VM1, VM2, VM3, & VM4<br/>b. VM1, VM2, & VM3 only<br/>c. VM2 & VM4 only<br/>d. VM2 only|<details><summary>Answer</summary>a. VM1, VM2, VM3, & VM4<br/><br/>All the vnets are peered<br/>If all vnets are peered then you can access Bastion deployed on the Hub vnet</details>|
|12|You have ARM templates that you use to deploy Azure virtual machines<br/>You need to disable unused Windows features automatically as instances of the virtual machines are provisioned<br/><br/>What should you use?<br/><br/>a. device configuration policies in Microsoft Intune<br/>b. Azure Automation State Configuration<br/>c. security policies in Azure Security Center<br/>d. device compliance policies in Microsoft Intune|<details><summary>Answer</summary>b. Azure Automation State Confiugration<br/><br/>You can use Azuer Automation State Confiugration to manage Azure VMs (both classic & Resource Manager), on-premises VMs, Linux machines, AWS VMs, & on-premises physical machines<br/><br/>**Note** : Azure Automation State Configuration provides a DSC pull server similar to the Windows Feature DSC-Service to that target nodes automatically receive configurations, conform to the desired state, & report back on their compliance. The built-in pull server in Azure Automation eliminates the need to set up & maintain your own pull server. Azure Automation can target virtaul or physical Windows or LInux machines, in the cloud or on-premises<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/automation/automation-dsc-getting-started</details>|
|13|You have an Azure subscription named Sub1. Sub1 contains a virtual network named vnet1 that contains one subnet named Subnet1<br/>Subnet1 contains an Azure virtual machine named VM1 that runs Ubuntu Server 18.04<br/>You create a service endpoint for MicrosoftStorage in Subnet1<br/>You need to ensure that when you deploy Docker containers to VM1, the containers can access Azure Storage resources by using the service endpoint<br/><br/>What should you do on VM1 before you deploy the container?<br/><br/>a. Create an application security group & a NSG<br/>b. Edit the docker-compose.yml file<br/>c. Install the container network interface (CNI) plug-in|<details><summary>Answer</summary>c. Install the container network interface (CNI) plug-in<br/><br/>Whe a Pod comes up the virtual machine, Azure CNI assigns an available IP address from the pool & connects the Pod to a software bridge in the virtual machine. When the Pod terminates, the IP address is added back to the pool</details>|
|14|You have ARM templates that you use to deploy Azure virtual machines<br/>You need to disable unused Windows features automatically as instances of the virtual machines are provisioned<br/><br/>What should you use?<br/><br/>a. device configuration policies in Microsoft Intune<br/>b. an Azure Desired State Configuration (DSC) virtual machine extension<br/>c. application security groups<br/>d. device compliance policies in Microsoft Intune|<details><summary>Answer</summary>b. an Azure Desired State Configuration (DSC) virtual machine extension<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/virtual-machines/extensions/dsc-overview</details>|
|15|You have an Azure subscription that contains the virtual networks shown in the following table<br/><table style="width: 533px;"> <tbody> <tr> <td style="width: 47px;">Name&nbsp;</td> <td style="width: 64.5938px;">Region&nbsp;</td> <td style="width: 419.406px;">Description&nbsp;</td> </tr> <tr> <td style="width: 47px;">HubVnet&nbsp;</td> <td style="width: 64.5938px;">East US</td> <td style="width: 419.406px;"> <p>HubVnet is a virtual netwok connected to the on-premises</p> <p>network by using a site-to-site VPN that has BGP route</p> <p>propagation enabled HubVnet contains subnets named</p> <p>HubVnetSubnet0, AzureFirewallSubnet &amp; GatewaySubnet. Virtual network</p> <p>gaway is connected to GatewaySubnet&nbsp;</p> </td> </tr> <tr> <td style="width: 47px;">&nbsp;SpokeVnet</td> <td style="width: 64.5938px;">East US&nbsp;</td> <td style="width: 419.406px;"> <p>SpokeVnet is a virtual network connected to HubVnet by</p> <p>using vnet peering. SpokeVnet contains subnets named</p> <p>SpokeVnetSubnet0&nbsp;</p> </td> </tr> </tbody> </table><br/>The Azure virtual machines on SpokeVnetSubnet0 can communicate with the computers on the on-premises network<br/>You plan to deploy an Azure firewall to HubVnet<br/>You create the following two routing tables:<br/>- RT1 : Includes a user-defined route that points to the private IP of the Azure firewall as a next hop address<br/>- RT2
