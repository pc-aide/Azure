# Practice09-Î£20

---

## Questions
|n|Question|Answer|
|-|--------|------|
|1|You have an Azure subscription named Sub1 that contains an Azure Log Analytics workspace named LAW01<br/>You have 100 on-premises servers that run Windows Server 2012 R2 & Windows Server 2016. The servers connect to LAW1. LAW1 is configured to collect security-related performance couters from the connected servers<br/>You need to configure alerts based on the data collected by LAW1. The solution must meet the following requirements:<br/>- Alert rules must support dimensions<br/>-The time it take to generate an alert must be minimized<br/>- Alert notifications must be generated only once when the alert is generated & once when the alert is resolved<br/><br/>Which signal type should you use when you create the alert rule?<br/><br/>a. log<br/>b. Log (saved Query)<br/>c. Metric<br/>d. Activity log|<details><summary>Answer</summary>c. metric<br/><br/>Ther are many benefits for using metric alerts for logs over query based log alerts in azure. Some of them are listed below:<br/><br/>Metric Alerts offer near-real time monitoring capability & Metric Alerts for Logs forks data from log source to ensure the same<br/><br/>Metric Alerts are stateful - only notifying once when alert is fired & once when alert is resolved; as opposed to Log alerts which are stateless & keep firing at every intervall if the alert condition is met<br/><br/>Metric alerts for Log provide multiple dimesions, allowing filtering to specific values like Computers, OS Type, etc. simpler; without the need for penning query in analytics</details>|
|2|You have an Azure subscription that contains an Azure Sentinel workspace<br/>Azure Sentinel is configured to ingest logs from several Azure workloads. A third-party service management platform is used to manage incidents<br/>You need to identify which Azure Sentinel components to configure to meet the following requirements:<br/>- When Azure Sentinel identifies a threat, an incident must be created<br/>- A ticket must be logged in the service managment platform when an incident is created in Azure Sentinel<br/><br/>Which component should you identify for each requirement? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td> <p>When Azure Sentinel identifies a threat, an incident</p> <p>must be created&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Analytics&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Data connectors&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Playbooks&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Workbooks&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td> <p>A ticket must be logged in the service management platform</p> <p>when an incident is created in Azure Sentinel&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Analytics&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Data connectors&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Playbooks&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Workbooks&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Analytics<br/>Analytics rule allows grouping of alerts into an icident<br/><br/>Box 2 - Playbooks<br/>playbook can be configured to log a ticket in third party system as a response to the incident<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/sentinel/create-incidents-from-alerts<br/>https://learn.microsoft.com/en-us/azure/sentinel/tutorial-respond-threats-playbook?tabs=LAC%2Cincidents</details>|
|3|You have an Azure subscription<br/>You need to create & deploy an Azure policy that meets the following requirements:<br/>- When a new virtual machine is deployed, automatically install a custom security extension<br/>- Trigger an autogenrated remediation task for non-compliant virtual machines to install the extension<br/><br/>What should you include in the policy? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Definition effect :</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Append&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>DeployIfNotExist&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>EnforceOPAConstraint&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>EnforceRegoPolicy&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Modify&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>Assignment remediation task :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A managed identity that has the Contributor role&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A managed identity that has the User Access Administrator role&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A service principal that has the Contributor role&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A service principal that has the User Access Administrator role&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - DeployIfNotExist<br/><br/>Box 2 - A managed identity that has the contributor role<br/>A managed identity that has the Contributor role: Remediation tasks in Azure Policy often require permissions to create or update resources. A managed identity with the Contributor role has sufficient permissions to install extensions on virtual machines. This role enables the managed identity to manage most Azure resources, which includes performing actions like installing extensions on virtual machines.<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources?tabs=azure-portal</details>|
|4|You have Azure subscription named Subscription1 that contains the resources shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>Category&nbsp;</td> </tr> <tr> <td>Initiative1&nbsp;</td> <td>Initiative definition&nbsp;</td> <td>Security Center&nbsp;</td> </tr> <tr> <td>Initiative2&nbsp;</td> <td>Initiative definition&nbsp;</td> <td>My Custom Category&nbsp;</td> </tr> <tr> <td>Policy1&nbsp;</td> <td>Policy definition&nbsp;</td> <td>Security Center&nbsp;</td> </tr> <tr> <td>Policy2&nbsp;</td> <td>Policy definition&nbsp;</td> <td>My Custom Category&nbsp;</td> </tr> </tbody> </table><br/>You need to identify which initiative & policies you can add to Subscription1 by using Azure Security Center<br/>What should you identify?<br/><br/>a. Policy1 & Policy2<br/>b. Initiative1 only<br/>c. Initiative1 & Initiative2 only<br/>d. Initiative1, Initiative2, Policy1, & Policy2|<details><summary>Answer</summary>d. Initiative1, Initiative2, Policy1, & Policy2<br/><br/>You can add your own custom initiatives. You'll then receive recommendations if your environmet doesn't follow the polcies you create, Any custom initiatives your create will appear alongside the built-in initiatives in the regulatory compliance dashboard<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/custom-security-policies?pivots=azure-portal</details>|
|5|You have an Azure subscription named Sub1<br/>In Azure Security Center, you have a workflow automation named WF1. WF1 is configured to send & email message to a user named User1<br/>You need to modify WF1 to send email messages to a distribution group named Alerts<br/><br/>What should you use to modify WF1?<br/><br/>a. Azure Application Insights<br/>b. Azure Monitor<br/>c. Azure Logic Apps Designer<br/>d. Azure DevOps|<details><summary>Answer</summary>c. Azure Logic Apps Designer<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/workflow-automation<br/><br/>https://learn.microsoft.com/en-us/training/modules/resolve-threats-with-azure-security-center/6-exercise-configure-playbook</details>|
