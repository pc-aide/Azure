# Practice09-Î£20

---

## Questions
|n|Question|Answer|
|-|--------|------|
|1|You have an Azure subscription named Sub1 that contains an Azure Log Analytics workspace named LAW01<br/>You have 100 on-premises servers that run Windows Server 2012 R2 & Windows Server 2016. The servers connect to LAW1. LAW1 is configured to collect security-related performance couters from the connected servers<br/>You need to configure alerts based on the data collected by LAW1. The solution must meet the following requirements:<br/>- Alert rules must support dimensions<br/>-The time it take to generate an alert must be minimized<br/>- Alert notifications must be generated only once when the alert is generated & once when the alert is resolved<br/><br/>Which signal type should you use when you create the alert rule?<br/><br/>a. log<br/>b. Log (saved Query)<br/>c. Metric<br/>d. Activity log|<details><summary>Answer</summary>c. metric<br/><br/>Ther are many benefits for using metric alerts for logs over query based log alerts in azure. Some of them are listed below:<br/><br/>Metric Alerts offer near-real time monitoring capability & Metric Alerts for Logs forks data from log source to ensure the same<br/><br/>Metric Alerts are stateful - only notifying once when alert is fired & once when alert is resolved; as opposed to Log alerts which are stateless & keep firing at every intervall if the alert condition is met<br/><br/>Metric alerts for Log provide multiple dimesions, allowing filtering to specific values like Computers, OS Type, etc. simpler; without the need for penning query in analytics</details>|
|2|You have an Azure subscription that contains an Azure Sentinel workspace<br/>Azure Sentinel is configured to ingest logs from several Azure workloads. A third-party service management platform is used to manage incidents<br/>You need to identify which Azure Sentinel components to configure to meet the following requirements:<br/>- When Azure Sentinel identifies a threat, an incident must be created<br/>- A ticket must be logged in the service managment platform when an incident is created in Azure Sentinel<br/><br/>Which component should you identify for each requirement? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td> <p>When Azure Sentinel identifies a threat, an incident</p> <p>must be created&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Analytics&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Data connectors&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Playbooks&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Workbooks&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td> <p>A ticket must be logged in the service management platform</p> <p>when an incident is created in Azure Sentinel&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Analytics&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Data connectors&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Playbooks&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Workbooks&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Analytics<br/>Analytics rule allows grouping of alerts into an icident<br/><br/>Box 2 - Playbooks<br/>playbook can be configured to log a ticket in third party system as a response to the incident<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/sentinel/create-incidents-from-alerts<br/>https://learn.microsoft.com/en-us/azure/sentinel/tutorial-respond-threats-playbook?tabs=LAC%2Cincidents</details>|
|3|You have an Azure subscription<br/>You need to create & deploy an Azure policy that meets the following requirements:<br/>- When a new virtual machine is deployed, automatically install a custom security extension<br/>- Trigger an autogenrated remediation task for non-compliant virtual machines to install the extension<br/><br/>What should you include in the policy? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Definition effect :</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Append&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>DeployIfNotExist&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>EnforceOPAConstraint&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>EnforceRegoPolicy&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Modify&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>Assignment remediation task :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A managed identity that has the Contributor role&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A managed identity that has the User Access Administrator role&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A service principal that has the Contributor role&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A service principal that has the User Access Administrator role&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - DeployIfNotExist<br/><br/>Box 2 - A managed identity that has the contributor role<br/>A managed identity that has the Contributor role: Remediation tasks in Azure Policy often require permissions to create or update resources. A managed identity with the Contributor role has sufficient permissions to install extensions on virtual machines. This role enables the managed identity to manage most Azure resources, which includes performing actions like installing extensions on virtual machines.<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources?tabs=azure-portal</details>|
|4|You have Azure subscription named Subscription1 that contains the resources shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>Category&nbsp;</td> </tr> <tr> <td>Initiative1&nbsp;</td> <td>Initiative definition&nbsp;</td> <td>Security Center&nbsp;</td> </tr> <tr> <td>Initiative2&nbsp;</td> <td>Initiative definition&nbsp;</td> <td>My Custom Category&nbsp;</td> </tr> <tr> <td>Policy1&nbsp;</td> <td>Policy definition&nbsp;</td> <td>Security Center&nbsp;</td> </tr> <tr> <td>Policy2&nbsp;</td> <td>Policy definition&nbsp;</td> <td>My Custom Category&nbsp;</td> </tr> </tbody> </table><br/>You need to identify which initiative & policies you can add to Subscription1 by using Azure Security Center<br/>What should you identify?<br/><br/>a. Policy1 & Policy2<br/>b. Initiative1 only<br/>c. Initiative1 & Initiative2 only<br/>d. Initiative1, Initiative2, Policy1, & Policy2|<details><summary>Answer</summary>d. Initiative1, Initiative2, Policy1, & Policy2<br/><br/>You can add your own custom initiatives. You'll then receive recommendations if your environmet doesn't follow the polcies you create, Any custom initiatives your create will appear alongside the built-in initiatives in the regulatory compliance dashboard<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/custom-security-policies?pivots=azure-portal</details>|
|5|You have an Azure subscription named Sub1<br/>In Azure Security Center, you have a workflow automation named WF1. WF1 is configured to send & email message to a user named User1<br/>You need to modify WF1 to send email messages to a distribution group named Alerts<br/><br/>What should you use to modify WF1?<br/><br/>a. Azure Application Insights<br/>b. Azure Monitor<br/>c. Azure Logic Apps Designer<br/>d. Azure DevOps|<details><summary>Answer</summary>c. Azure Logic Apps Designer<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/workflow-automation<br/><br/>https://learn.microsoft.com/en-us/training/modules/resolve-threats-with-azure-security-center/6-exercise-configure-playbook</details>|
|6|You have Azure resource group contains 100 virtual machines<br/>You have an initiative named initiative1 that contains multiple policy definition. Initiative1 is assigned to the resource group<br/>You need to identify which resources do not match the policy defintions<br/>What should you do?<br/><br/>a. From Azure Security Center, view the Regulatory compliance assesment<br/>b. From the Policy blade of the AAD admin center, select Compliance<br/>c. From Azure Security Center, view the Secure Score<br/>d. From the Policy blade of the AAD admin center, select Assignments|<details><summary>Answer</summary>a. From Azure Security Center, view the Regulatory compliance assessment<br/><br/>there is no policy blade in AAD admin portal. You can view what resource are not compliant for both custom & pre-defined policies under Regular Compliance blade in Security Center</details>|
|7|You have an Azure subscription named Subscription1<br/>You need to view which security settings are assigned to Subscription1 by default<br/><br/>Which Azure policy or initiative definition should you review?<br/><br/>a. the Audit diagnostic setting policy definition<br/>b. the Enable Monitoring in Azure Security Center initiative definition<br/>c. the Enable Azure Monitor for VMs initiative definition<br/>d. the Azure Monitor solution "Security & Audit" must be deployed policy definition|<details><summary>Answer</summary>b. the Enable Monitoring in Azure Security Center initiative definition<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/security-policy-concept<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/policy-reference</details>|
|8|You have an Azure Sentinel workspace that has an AAD data connector<br/>You are threat hunting suspicous traffic from a specific IP address<br/>You need to annote an intermediate event stored in the workspace & be able to reference the IP address when navigating through the investigation graph<br/><br/>Which three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area & arrange them in the correct order<br/><table> <tbody> <tr> <td>Actions&nbsp;</td> <td>Answer Area&nbsp;</td> </tr> <tr> <td>Add the query Favorites&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td> <p>From the Azure Sentinel workspace, run</p> <p>an Azure Log Analytics query&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td> <p>In a Jupyter notebook, create a reference</p> <p>to the IP address&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>Add a bookmark &amp; assign a tag&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Add a bookmark &amp; map an entity&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td> <p>From Azure Monitor, run an Azure Log</p> <p>Analytics query&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>Select a query result&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>1. From the Azure Sentinel workspace, run an Azure Log Analytics query<br/>2. Selecta query result<br/>3. Add a bookmark & map an entity<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/sentinel/bookmarks</details>|
|9|You have 20 Azure subscriptions & security group named Group1. The subscriptions are children of the root management group<br/>Each subscription contains a resource group named RG1<br/>You need to ensure that for each subscription RG1 meets the following requirements:<br/>- The members of Group1 are assigned the Owner role<br/>- The modification of permissions to RG1 isprevented<br/><br/>What should you do? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Configure RBAC role assignments by using :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Azure Blueprints&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Azure Policy&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Azure Security Center&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td> <p>Prevent the modification of permissions to</p> <p>RG1 by using :&nbsp;</p> </td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>a resource lock&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td> <p>a RBAC role assignment</p> <p>at the resource group level&nbsp;</p> </td> </tr> <tr> <td>&nbsp;</td> <td>Azure Blueprint assignments in locking mode&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Blueprints<br/><br/>Box 2 - RBAC role assignment at the RG level<br/>Azue blueprint locking won't affect existing resource, RG1 already exists<br/>A resource lock will either make RG1 read only or prevent deletion, not just stopping permission changes, not the best solution</details>|
|10|You use Azure Security Center for the centralized policy management of three Azure subscriptions<br/>You use several policy definitions to manage the security of the subscriptions<br/>You need to deploy the policy definitions as a group to all three subscriptions<br/>Solution : You create an initiative & an assignment taht is scoped to the Tenant Root Group management group<br/><br/>Does this meet the goal?<br/><br/>a. yes<br/>b. no|<details><summary>Answer</summary>a. yes<br/>The Tenant Root Group is predefined managment group, you can modify but not delete it. By default, any RBAC or Azure Policy you define at this level cascade by inheritance to administrator-defined management groups<br/>ref:<br/>https://4sysops.com/archives/apply-governance-policy-to-multiple-azure-subscriptions-with-management-groups/</details>|
|11|You have an Azure environment<br/>You need to identify any Azure configurations & workloads that are non-compliant with ISO 27001 standards<br/>What should you use?<br/><br/>a. Azure Sentinel<br/>b. AAD identity Protection<br/>c. Azure Security Center<br/>d. Azure Advanced Threat Protection (ATP)|<details><summary>Answer</summary>c. Azure Security Center<br/>From Security Center's menu, select Regulatory compliance<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/regulatory-compliance-dashboard</details>|
|12|You have an Azure subscription that contains 100 virtual machines. Azure Diagostics is enabled on all the virtual machines<br/>You are planning the monitoring of Azure sevices in the subscription<br/>You need to retrieve the following details:<br/>- Identiy the user who deleted a virtual machine three weeks ago<br/>- Query the security events of a virtual machine that run Windows Server 2016<br/><br/>What should you use in Azure Monitor? To answer, drag the appropriate configuration settings to the corret details<br/>Each configuration setting may be used once, more than once, or not at all. You may need to drag the split bar between panes or scroll to view content<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Settings&nbsp;</td> <td>Asnwer Area&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Activity log&nbsp;</td> <td>Identify the user who deleted a virtual machine three weeks ago :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Logs&nbsp;</td> <td> <p>Query the security events of a virtual machine that runs</p> <p>Windows Server 2016 :</p> </td> <td>&nbsp;</td> </tr> <tr> <td>Metrics&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>Service Health&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Activity log<br/>Azure activity logs provide insight into the operations that were performed on resources in your subscription. Activity logs were previously know as audit logs or operational logs because they report control-plane events for your subscriptions<br/>Activity logs help you determine the 'what, who, & when' for write operations (that is, PUT, POST, or DELETE)<br/><br/>Box 2 - Logs<br/>Log integration collects Azure diagnostics from your Windows virtual machines. Azure activity logs, Azure Security Center alerts, & Azure resource provider logs. This integration provides a unified dashboard for all yours assets, whether they're on-premises or in the cloud, so that you an aggragate, correlate, analyze, & alert for security events<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/security/fundamentals/log-audit</details>|
|13|You have an Azure subscription that contains the resources shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>Resource group&nbsp;</td> </tr> <tr> <td>RG1&nbsp;</td> <td>Resource group&nbsp;</td> <td>NA&nbsp;</td> </tr> <tr> <td>VM1&nbsp;</td> <td>Virtual machine&nbsp;</td> <td>RG1&nbsp;</td> </tr> <tr> <td>VM2&nbsp;</td> <td>Virtual machine&nbsp;</td> <td>RG1&nbsp;</td> </tr> <tr> <td>ActionGroup1&nbsp;</td> <td>Action group&nbsp;</td> <td>RG1&nbsp;</td> </tr> </tbody> </table><br/>VM1 & VM2 are stopped<br/>You create an alert rule that has the following settings:<br/>- Resource : RG1<br/>- Condition : All administrative operations<br/>Actions: Action groups configured for this alert rule : ActionGroup1<br/>- Alert rule name : Alert1<br/>You create an action rule that has the following settings:<br/>- Scope : VM1<br/>- Filter criteria : Resource Type = "Virtual Machines"<br/>- Define on this scope : Suppression<br/>Supression config : From now (always)<br/>Name : ActionRule1<br/>Fo each of the following statements, select Yes if the statement is true. Otherwise, select No<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Statements&nbsp;</td> <td>Yes&nbsp;</td> <td>No&nbsp;</td> </tr> <tr> <td>if you start VM1, an alert is triggered&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>If you start VM2, an alert is triggered&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>If you add a tag to RG1, alert is triggered&nbsp;</td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - No<br/>The scope for the action rule is set to VM1 </details>|
