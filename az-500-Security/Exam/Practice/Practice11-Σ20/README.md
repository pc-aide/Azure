# Practice11-Î£20

---

## Questions
|n|Question|Answer|
|-|--------|------|
|1|your company has an Azure subscription named Sub that is associated to an AAD tenant named contoso.com<br/>The company develops a mobile application named App1. App1 uses the OAuth 2 implicit grant type to acquire AAD access tokens<br/>You need to register App1 in AAD<br/><br/>What information should you obtain from the developer to register the application?<br/><br/>a. a redirect URI<br/>b. a reply URL<br/>c. a key<br/>d. an application ID|<details><summary>Answer</summary>a. a redirect URI<br/><br/>When using OAuth2 implicit grant type, the access tokens are sent to the client using the redirect URI<br/><br/>**Redirect URI:** This is crucial for OAuth 2.0 authentication flows. It's the callback location where the authentication response is sent to. It's a key part of the security of OAuth 2.0, ensuring that tokens are only sent to authenticated clients. In the case of a mobile application, this would typically be a custom scheme or a URL to which the OAuth server can send the access token after authentication.</details>|
|2|From the Azure portal, you are configuring an Azure policy<br/>You plan to assign policies that use the DeployIfNotExist, AuditIfNotExist, Append, & Deny effects<br/>Which effect requires a managed identity for assignment?<br/><br/>a. AuditIfNotExist<br/>b. Append<br/>c. DeployIfNotExist<br/>d. Deny|<details><summary>Answer</summary>c. DeployIfNotExist<br/><br/>When Azure Policy runs the template in the deployIfNotExist policy defintion, it does so using a managed identity. Azure Policy creates a managed identitty for each assignment, but must have details about what roles to grant the managed identity<br/><br/>DeployIfNotExist, as it involves creating or managing resources, necessitating a managed identity for proper permissions</details>|
|3|You have an Azure subscription named Sub1 that associated to an AAD tenant named contoso.com<br/>You plan to implement an application that will consist of the resources shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>Description&nbsp;</td> </tr> <tr> <td>CosmosDBAccount&nbsp;</td> <td> <p>Azure Cosmos DB</p> <p>account&nbsp;</p> </td> <td> <p>A Cosmos DB account containing a</p> <p>database named CosmosDB1 that</p> <p>serves as a back-end tier of the&nbsp;</p> <p>application&nbsp;</p> </td> </tr> <tr> <td>WebApp1&nbsp;</td> <td>Azure web app&nbsp;</td> <td> <p>A web app configured to serve as the</p> <p>middle tier of the application&nbsp;</p> </td> </tr> </tbody> </table><br/>Users will authenticate by using their AAD user account & access the Cosmos DB account by using resource tokens<br/>You need to identify which taks will be implemented in CosmosDB1 & WebApp1<br/>Which task should you identify for each resource? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>CosmosDB1 :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Authenticate AAD users &amp; generate resource tokens&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Authenticate AAD users &amp; relay resource tokens&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Create database users &amp; generate resource tokens&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>WebApp1 :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Authenticate AAD users &amp; generate resource tokens&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Authenticate AAD users &amp; relay resource tokens&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Create database users &amp; generate resource tokens&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Create database users & generate resource tokens<br/>Azure Cosmos DB resource tokens provide a safe mechanism for allowing clients to read, write, & delete specific resources in an Azure Cosmos DB account according to the granted permissions<br/><br/>Box 2 - Authenticate AAD users  &relay resource tokens<br/>A typical approach to requesting, generating, & delivering resource tokens to a mobile application is to use resource token broker. The following diagram shows a high-level overview of how the sample application uses a resource token broker to manage accees to the document database data<br/>ref:<br/>https://learn.microsoft.com/en-us/xamarin/xamarin-forms/data-cloud/authentication/azure-cosmosdb-auth</details>|
|4|You need to create an Azure key vault. The solution must ensure that any object deleted from the key vault be retained for 90 days<br/>Note : Each correct selection is worth one point<br/>`New-AzKeyVault -VaultName 'KeyVault1' -ResourceGroupName 'RG1' -location 'East US' `<br/><table><tbody><tr><td>&nbsp;</td></tr><tr><td>-EnabledForDeployment&nbsp;</td></tr><tr><td>-EnablePurgeProtection&nbsp;</td></tr><tr><td>-Tag&nbsp;</td></tr></tbody></table><br/><table><tbody><tr><td>&nbsp;</td></tr><tr><td>-Confirm&nbsp;</td></tr><tr><td>-DefaultProfile&nbsp;</td></tr><tr><td>-EnableSoftDelete&nbsp;</td></tr><tr><td>-SKU&nbsp;</td></tr></tbody></table>|<details><summary>Answer</summary>Box 1 - EnablePurgeProtection<br/>if specified, protection against immediate deletion is enabled for this vault, requires soft delete to be enabled as well<br/><br/>Box 2 - EnableSoftDelete<br/>Specifies that the soft-delete functionality is enabled for this key vault. When soft-delete is enabled, for a grace period, you can recover this key vault & its contents after it is deleted<br/>ref:<br/>https://learn.microsoft.com/en-us/powershell/module/azurerm.keyvault/new-azurermkeyvault?view=azurermps-6.13.0</details>|
|5|You have an Azure subscription that contains an Azure key vault named Vault1<br/>In Vault1, you create a secret named Secret1<br/>An application developer registers an application in AAD<br/>You need to ensure that the application can use Secret1<br/><br/>What should you do?<br/><br/>a. In AAD, create a role<br/>b. In Azure Key Vault, create a key,<br/>c. In Azure Key Vault, create an access policy<br/>c. In AAD, enable AAD Application Proxy|<details><summary>Answer</summary>c. in azure key vault, create an access policy<br/><br/>RBAC are for management plane in the key vault<br/>Access policy is for data plane, which required here for accessing the secret<br/>1. Going to your Azure Key Vault (Vault1) in the Azure portal.<br/>2. Navigating to the "Access policies" section.<br/>3. Adding a new access policy<br/>4. Selecting the necessary permissions for the secret (like get, list, etc.).<br/>5. Selecting the registered application as the principal to which these permissions will apply.<br/>6. Saving the change<br/><br/>The other options are not directly relevant to granting an application access to a secret in Azure Key Vault:<br/><br/>**Creating a role in AAD:** While roles are used for access control, they are generally more about controlling what resources a user or service principal can manage in Azure, rather than granting access to specific secrets in a Key Vault.<br/><br/>**Enabling AAD Application Proxy:** This is more relevant for providing secure remote access to web applications and is unrelated to accessing secrets in a Key Vault.</details>|
|6|You have an Azure SQL database<br/>You implement Always Encrypted<br/>You need to ensure that application developers can retrieve & decrypt data in the database<br/>Which two pieces of information should yo uprovide to the developers? Each correct answer presents part of the solution<br/>Noe : Each correct selecttion is worth one point<br/><br/>a. a sotred access policy<br/>b. a SAS<br/>c. the column encryption key<br/>d. user credentials<br/>e. the column master key|<details><summary>Answer</summary>True</details>|
