# Practice08-Î£20

---

## Questions
|n|Question|Answer|
|-|--------|------|
|1|You have an Azure subscription that contains the Azure Log Analytics workspaces shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Location&nbsp;</td> <td>Description&nbsp;</td> </tr> <tr> <td>Workspace1&nbsp;</td> <td>East US&nbsp;</td> <td>Used by Azure Sentinel&nbsp;</td> </tr> <tr> <td>Workspace2&nbsp;</td> <td>West US&nbsp;</td> <td>NA&nbsp;</td> </tr> </tbody> </table><br/>You create the virtual machines in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Location&nbsp;</td> <td>OS&nbsp;</td> <td>Connected to&nbsp;</td> </tr> <tr> <td>VM1&nbsp;</td> <td>East US&nbsp;</td> <td>Windows Server 2019&nbsp;</td> <td>None&nbsp;</td> </tr> <tr> <td>VM2&nbsp;</td> <td>East US&nbsp;</td> <td>Windows Server 2019&nbsp;</td> <td>Workspace2&nbsp;</td> </tr> <tr> <td>VM3&nbsp;</td> <td>West US&nbsp;</td> <td>Windows Server 2019&nbsp;</td> <td>None&nbsp;</td> </tr> <tr> <td>VM4&nbsp;</td> <td>West US&nbsp;</td> <td>Windows Server 2019</td> <td>Workspace2&nbsp;</td> </tr> </tbody> </table><br/>You plan to use Azure Sentinel to monitor Windows Defender Firewall on the virtual machines<br/>Which virtual machines you can connect to Azure Sentinel<br/><br/>a. VM1 only<br/>b. VM1 & VM3 only<br/>c. VM1, VM2, VM3, & VM4<br/>d. VM1 & VM2 only|<details><summary>Answer</summary>c. VM1, VM2, VM3, & VM4<br/><br/>It is tru that VMs are connected to different workspaces, but you can always intall the "Windows Firewall" data connector to those VMs from Azure Sentinel<br/>ref:<br/>https://learn.microsoft.com/en-us/azure/sentinel/data-connectors-reference#windows-firewall</details>|
|2|You have an Azure subscription that contains a user named ADmin1 & resource group named RG1<br/>In Azure Monitor, you create the alert rules shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Resource&nbsp;</td> <td>Condition&nbsp;</td> </tr> <tr> <td>Rule1&nbsp;</td> <td>RG1&nbsp;</td> <td>All security operations&nbsp;</td> </tr> <tr> <td>Rule2&nbsp;</td> <td>RG1&nbsp;</td> <td>All administrative operations&nbsp;</td> </tr> <tr> <td>Rule3&nbsp;</td> <td>Azure subscription&nbsp;</td> <td>All security operations by Admin&nbsp;</td> </tr> <tr> <td>Rule4&nbsp;</td> <td>Azure subscription&nbsp;</td> <td>All administrative opertions by Admin1&nbsp;</td> </tr> </tbody> </table><br/>Admin1 performs the following actions on RG1:<br/>- Adds a virtual network named vnet1<br/>- Adds a Delete lock named Lock1<br/>Which rules will trigger an alert as a result of the actions of Admin1? To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/>**Answer Area**<br/><table> <tbody> <tr> <td>Adding vnet1 :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule2 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule4 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule2 &amp; Rule 4 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule3 &amp; Rulee only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule1, Rule2, Rule3, &amp; Rule4&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>Adding lock1&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule2 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule4 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule2 &amp; Rule4 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule3 &amp; Rule4 only&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Rule1, Rule2, Rule3, &amp; Rule4&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1,2 - Rule2 & Rule4 only<br/>Adding/Removing lock are also adminsitratrive. </details>|
|3|You have an Azure subscription that contains 100 virtual machines & has Azure Security Center STandard tier enabled<br/>You plan to perform a vulnerability scan of each virtual machine<br/>You need to deploy the vulnerability scanner extension to the virtual machines by using an ARM template<br/><br/>Which two values should you specify in the code to automate the deployment of the extension to the virtual machines? Each correct answer presents part of the solution<br/>Note : Each correct selection is worth one point<br/><br/>a. the user-assigned managed identity<br/>b. the workspace ID<br/>c. the AAD ID<br/>d. the Key Vault managed storage account key<br/>e. the sytem-assigned managed identity<br/>f. the priamry shared key|<details><summary>Answer</summary>a. the user-assigned managed identity<br/>c. the AAD ID</details>|
|4|You have an Azure subscription that contains a user named Admin1 & a virtual machine named VM1. VM1 runs Windows Server 2019 & was deployed by using an ARM template. VM1 is the member of a backed pool of a pubnlic Azure Basic Load Balancer<br/>Admin1 reports that VM1 is listetd as Unsupported on the Just in time VM access blade of Azure Security Center<br/>You need to ensure that Admin1 can enable just in time (JIT) VM access for VM1<br/><br/>What should you do?<br/><br/>a. Create & configure a NSG<br/>b. Create & configure an additonal public IP address for VM1<br/>c. Replace the Basic Load Balancer with an Azure Standard Load Balancer<br/>d. Assign an AAD Premium Plan 1 license to Admin1|<details><summary>Answer</summary>a. create & configure a NSG<br/><br/>Enable JIT on your VMs - You can enable JIT with your own custom options for one or more VMs using Security Center, PowerShell, or the REST API. Alternatively, you can enable JIT with default, hard-coded parameters, from Azure virtual machines. When enabled, JIT locks down inbound traffic to your Azure VMs by creating a rule in your network security ghroup</details>|
|5|You have an Azure Sentinel workspace that contains an AAD connector, an Azure Log Analytics query named Query1, & a playbook named Playbook1<br/>Query1 returns a subnet of security events generated by AAD<br/>You plan to create an Azure Sentinel analytic rule based on Query1 that will trigger Playbook1<br/>You need to ensure that you can add Playbook1 to the new rule<br/><br/>What should you do?<br/>To answer, select the appropriate options in the answer area<br/>Note : Each correct selection is worth one point<br/><table> <tbody> <tr> <td>Create the rule &amp; set the type to :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Fusion&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Microsoft Security incident creation&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Scheduled&nbsp;</td> </tr> </tbody> </table><br/><table> <tbody> <tr> <td>Configure the playbook to include :&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A managed connector&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A system-assigned manged identity&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>A trigger&nbsp;</td> </tr> <tr> <td>&nbsp;</td> <td>Diagnostic settings&nbsp;</td> </tr> </tbody> </table>|<details><summary>Answer</summary>Box 1 - Scheduled<br/>scheduled rules in Azure Sentinel run queries at specified intervals and can trigger a response, such as running a playbook, based on the query results<br/><br/>Box 2 - A trigger<br/>The playbook needs a trigger to start its workflow. In this case, the trigger would be the Azure Sentinel alert that fires based on the conditions defined in Query1.<br/><br/>ref:<br/>https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-custom<br/>https://learn.microsoft.com/en-us/azure/sentinel/tutorial-respond-threats-playbook?tabs=LAC%2Cincidents</details>|
|6|You have an Azure subscription that contains the resources shown in the following table<br/><table> <tbody> <tr> <td>Name&nbsp;</td> <td>Type&nbsp;</td> <td>Attached to&nbsp;</td> <td>NSG&nbsp;</td> </tr> <tr> <td>NSG1&nbsp;</td> <td>NSG&nbsp;</td> <td>VM5&nbsp;</td> <td>NA&nbsp;</td> </tr> <tr> <td>NSG2&nbsp;</td> <td>NSG&nbsp;</td> <td>Subnet1&nbsp;</td> <td>NA&nbsp;</td> </tr> <tr> <td>Subnet1&nbsp;</td> <td>Subnet&nbsp;</td> <td>NA&nbsp;</td> <td>NA&nbsp;</td> </tr> <tr> <td>VM5&nbsp;</td> <td>Virtual machine&nbsp;</td> <td>Subnet1&nbsp;</td> <td>NSG1&nbsp;</td> </tr> </tbody> </table><br/>An IP address of 10.1.0.4 is assigned to VM5. VM5 does not have a public IP address<br/>VM5 has just in time (JIT) VM access configured as shown in the following exhibit<br/>**JIT VM access configuration**<br/><table> <tbody> <tr> <td>Port&nbsp;</td> <td>Protocol&nbsp;</td> <td>Allowded source IPs&nbsp;</td> <td>IP range&nbsp;</td> <td>Time range (hours)&nbsp;</td> </tr> <tr> <td>3389&nbsp;</td> <td>Any&nbsp;</td> <td>&nbsp;Per request</td> <td>N/A&nbsp;</td> <td>3 hours&nbsp;</td> </tr> </tbody> </table><br/>You enable JIT VM access for VM5<br/>NSG1 has the inbound rules shown in the following exhibit<br/>
